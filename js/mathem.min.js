// Generated by CoffeeScript 1.3.3
(function(e){e.fn.extend({outerHTML:function(t){if(!this.length)return null;if(t===undefined){var n=this.length?this[0]:this,r;return n.outerHTML?r=n.outerHTML:r=e(document.createElement("div")).append(e(n).clone()).html(),typeof r=="string"&&(r=e.trim(r)),r}if(!e.isFunction(t)){var i=e(this),s=[],o=e(t),u;for(var f=0;f<i.length;f++){u=o.clone(!0),i.eq(f).replaceWith(u);for(var l=0;l<u.length;l++)s.push(u[l])}return s.length?e(s):null}this.each(function(n){var r=e(this);r.outerHTML(t.call(this,n,r.outerHTML()))})}})})(jQuery);var Category,Mathem,Section,SectionStep,categories,category,index,name,section,sectionsData,_i,_j,_k,_len,_len1,_len2,_ref,_ref1;String.prototype.slugify=function(){return this.trim().replace(/[\s,']+/g,"-").toLowerCase()},String.prototype.unSelectorize=function(){return this.replace("#","")},Mathem={},SectionStep=function(){function e(e,t,n,r){this.id=e,this.text=t,this.result=n,this.plain=r,this.slug=this.id,this.plain=this.plain?"plain":"math"}return e.template=['<li class="step clearfix" id="{{slug}}">','<div class="index">Step {{id}}.</div>','<div class="title">{{text}}</div>','<div class="result {{plain}}">{{{result}}}</div>',"</li>"].join(""),e.prototype.setSection=function(e){return this.section=e,this.slug=this.section.slug+"-"+this.slug},e.prototype.render=function(){var t;return t=Hogan.compile(e.template),this.markup=t.render({id:this.id,slug:this.slug,text:this.text,result:this.result,plain:this.plain}),this.markup},e.prototype.selector=function(){return"#"+this.slug},e}(),Section=function(){function e(t,n,r,i,s){this.id=t,this.title=n,this.description=r,this.example=i,this.stepsArray=s,this.slug=this.title.slugify(),this.steps=[],this.template=e.template}return e.template=['<section class="tab-pane section" id="{{slug}}">',"<h2>{{title}}</h2>",'<p class="lead">{{description}}<br />','<strong>Example:</strong> <span class="example math">{{example}}</span>',"</p>","<hr>",'<ol class="steps unstyled">',"</ol></section>"].join(""),e.prototype.initialize=function(){return this.addSteps(this.stepsArray),this.render(),this},e.prototype.setCategory=function(e){return this.category=e,this.slug=this.category.slug+"-"+this.slug,this.render()},e.prototype.addStep=function(e){var t;return t=new SectionStep(this.steps.length+1,e.text,e.result,e.plain),t.setSection(this),this.steps.push(t)},e.prototype.addSteps=function(e){var t,n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(this.addStep(t));return i},e.prototype.getSteps=function(){return this.steps},e.prototype.render=function(){var t;return t=Hogan.compile(e.template),this.markup=t.render({slug:this.slug,title:this.title,description:this.description,example:this.example}),this.markup},e.prototype.selector=function(){return"#"+this.slug},e}(),Category=function(){function e(e,t){this.id=e,this.name=t,this.slug=this.name.slugify(),this.sections=[]}return e.prototype.addSection=function(e){var t;return t=new Section(this.sections.length+1,e.title,e.description,e.example,e.steps),t.setCategory(this),this.sections.push(t.initialize())},e.prototype.getSections=function(){return this.sections},e.prototype.getSection=function(e){var t,n,r,i,s;s=this.sections;for(r=0,i=s.length;r<i;r++)n=s[r],n.match(e)&&(t=n);return t},e.prototype.match=function(e){return this.slug===e||this.name===e||this.id===e||this.selector()===e?!0:!1},e.prototype.selector=function(){return"#"+this.slug},e}(),categories=["Standard","Turbo Boost","Divisiblity","Perfect Squares","Casting Out Nines","Casting Out Elevens"],Mathem.categories=[];for(index=_i=0,_len=categories.length;_i<_len;index=++_i)name=categories[index],Mathem.categories.push(new Category(++index,name));sectionsData={standard:[{title:"Multiply as high as 19x19",description:"Quickly multiply any two two-digit numbers up to 19 x 19",example:"17 x 12 = 204",steps:[{text:"Add the one's place digit form the smaller number to the larger number.",result:"17 + 2 = 19"},{text:"Add a zero to the end.",result:'"19" + "0" = 190',plain:!0},{text:"Multiply the one's place digit of the two numbers.",result:"7 x 2 = 14"},{text:"Add the results of steps 2 and 3 for the answer.",result:"190 + 14 = 204"}]},{title:"Foobar",description:"Barfoo",example:"barf lol + 1",steps:[]}]},_ref=Mathem.categories;for(_j=0,_len1=_ref.length;_j<_len1;_j++){category=_ref[_j],sectionsData[category.slug]=sectionsData[category.slug]||[],_ref1=sectionsData[category.slug];for(index=_k=0,_len2=_ref1.length;_k<_len2;index=++_k)section=_ref1[index],category.addSection(section)}Mathem.getCategory=function(e){var t,n,r;r=Mathem.categories;for(t=0,n=r.length;t<n;t++){e=r[t];if(e.match(e)!=null)return e}},Mathem.CategoryLinkTemplate=Hogan.compile('<li><a href="{{selector}}" data-toggle="tab">{{name}}</a></li>'),Mathem.CategoryTemplate=Hogan.compile('<div class="span12 tab-pane primary-tab" id="{{slug}}"><div class="tabbable tabs-left"><div class="span3"><ul class="nav nav-pills nav-stacked"></ul></div><div class="span9"><div class="tab-content"></div></div></div></div>'),Mathem.SectionLinkTemplate=Hogan.compile('<li><a href="{{selector}}" data-toggle="tab">{{title}} <i class="icon-chevron-right"></i></a></li>'),Mathem.initialize=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v;n=$("#category-nav"),e=$("#categories-container"),p=Mathem.categories;for(u=0,a=p.length;u<a;u++){category=p[u],n.append(Mathem.CategoryLinkTemplate.render({selector:category.selector(),name:category.name})),e.append(Mathem.CategoryTemplate.render({slug:category.slug})),t=$(category.selector()),i=t.find("ul.nav"),r=t.find("div.tab-content"),d=category.getSections();for(c=0,f=d.length;c<f;c++){section=d[c],i.append(Mathem.SectionLinkTemplate.render({selector:section.selector(),title:section.title})),r.append(section.render()),s=e.find(section.selector()).find(".steps"),v=section.getSteps();for(h=0,l=v.length;h<l;h++)o=v[h],s.append(o.render())}}return n.on("click","a",function(e){return category=Mathem.getCategory($(this).attr("href")),$("a[href="+category.getSections()[0].selector()+"]").click()}),null};